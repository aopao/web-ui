<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>web-ui</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta http-equiv="Access-Control-Allow-Origin" content="*">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="format-detection" content="telephone=no">
	<link rel="icon" href="favicon.png">
	<link rel="stylesheet" href="./layui/css/layui.css">
	<link rel="stylesheet" href="./assets/css/index.css">
	<link rel="stylesheet" href="./assets/css/home.css">
</head>
<body class="main_body">
	<div class="layui-layout layui-layout-master">
		<!-- 顶部 -->
		<div class="layui-header">
			<!--logo-->
			<a href="#" class="logo"><img src="./assets/img/logo.png" alt="logo">党建后台管理系统</a>
            <div class="layui-layout-right">
                <p>欢迎您，昆明经济技术开发区组织部</p>
                <ul class="layui-nav">
                    <li class="layui-nav-item">
                        <a href="javascript:;">
                            <i class="layui-icon layui-icon-set-sm"></i>设置&nbsp;&nbsp;&nbsp;&nbsp;
                        </a>
                        <dl class="layui-nav-child">
                            <dd><a id="themes-btn" href="javascript:;"><i class="layui-icon layui-icon-theme"></i>主题切换</a></dd>
                            <dd><a href="javascript:;"><i class="layui-icon layui-icon-util"></i>退出</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item"><a href=""><i class="layui-icon layui-icon-home"></i>返回</a></li>

                </ul>
            </div>
		</div>
		<!-- 左侧导航 -->
		<div class="layui-side layui-side-menu">
            <a class="layui-side-switch" href="javascript:;"><i class="layui-icon layui-icon-left"></i></a>
			<div class="layui-side-scroll">
				<ul class="layui-nav layui-nav-tree" lay-filter="side-menu">
					<li class="layui-nav-item">
						<a href="javascript:;" lay-tips="首页">
							<i class="layui-icon layui-icon-home"></i>
							<cite>首页</cite>
						</a>
					</li>
					<li class="layui-nav-item layui-nav-itemed">
						<a href="javascript:;" lay-tips="党组织管理">
							<i class="layui-icon layui-icon-flag"></i>
							<cite>党组织管理</cite>
							<span class="layui-nav-more"></span>
						</a>
						<dl class="layui-nav-child">
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">党组织信息管理<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">党组织信息</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">回收站</a>
									</dd>
								</dl>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">党内关怀<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">困难党员申请</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">困难党员记录</a>
									</dd>
								</dl>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">党组织班子管理<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">班子管理</a>
									</dd>
								</dl>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;" lay-href="component/button/">党组织堡垒图</a>
							</dd>
						</dl>
					</li>
					<li class="layui-nav-item">
						<a href="javascript:;" lay-tips="党员管理">
							<i class="layui-icon layui-icon-user"></i>
							<cite>党员管理</cite>
							<span class="layui-nav-more"></span>
						</a>
						<dl class="layui-nav-child">
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">党员信息管理<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">在册党员信息</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">预备党员信息</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">预备党员信息</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">历史党员信息</a>
									</dd>
								</dl>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">党费缴纳管理<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">党费缴纳</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">党费统计</a>
									</dd>
								</dl>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">发展党员<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">发展党员流程</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">发展党员信息库</a>
									</dd>
								</dl>
							</dd>
						</dl>
					</li>
					<li class="layui-nav-item">
						<a href="javascript:;" lay-tips="活动管理">
							<i class="layui-icon layui-icon-template-1"></i>
							<cite>活动管理</cite>
							<span class="layui-nav-more"></span>
						</a>
						<dl class="layui-nav-child">
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">活动类型管理<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">活动类型列表</a>
									</dd>
								</dl>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">活动记录<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">活动列表</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">万名党员进党校</a>
									</dd>
								</dl>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;">活动指标<span class="layui-nav-more"></span></a>
								<dl class="layui-nav-child">
									<dd>
										<a href="javascript:;" lay-href="component/button/">党组织考核指标</a>
									</dd>
									<dd>
										<a href="javascript:;" lay-href="component/button/">党员考核指标</a>
									</dd>
								</dl>
							</dd>
						</dl>
					</li>
					<li class="layui-nav-item">
						<a href="javascript:;" lay-tips="组工信息量化考核">
							<i class="layui-icon layui-icon-template"></i>
							<cite>组工信息量化考核</cite>
							<span class="layui-nav-more"></span>
						</a>
						<dl class="layui-nav-child">
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;" lay-href="component/button/">组工信息统计分析</a>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;" lay-href="component/button/">组工信息列表</a>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;" lay-href="component/button/">组工信息审核列表</a>
							</dd>
							<dd data-name="form" class="layui-nav-item">
								<a href="javascript:;" lay-href="component/button/">已采用组工信息列表</a>
							</dd>
						</dl>
					</li>
				</ul>
			</div>
		</div>
		<!-- 右侧内容 -->
		<div class="layui-body">
			<iframe class="child-iframe" src="./page/main.html"></iframe>
		</div>
	</div>
	<script type="text/javascript" src="./layui/layui.js"></script>
	<script src="./assets/js/common.js"></script>
    <script>
        layui.use(['form','element','layer','jquery'],function () {
            var $ = layui.jquery;
            var form = layui.form;
            var layer = layui.layer;
            var element = layui.element;
            var $sideSwitch = $('.layui-side-switch');
            var $sideMenu = $('.layui-side-menu');
            var $layBody = $('.layui-body');
            $sideSwitch.on('click', function () {
                if($(this).hasClass('hide')) {
                    $sideMenu.stop(true,true).animate({
                        'left':'0'
                    }, 200);
                    $layBody.stop(true,true).animate({
                        'left':'220px'
                    }, 200);
                    $(this).removeClass('hide').stop(true,true).delay(400).animate({'left':'170px'}, 200);
                } else {

                    $sideMenu.stop(true,true).animate({
                        'left':'-220px'
                    }, 200);
                    $layBody.stop(true,true).animate({
                        'left':'0'
                    }, 200);
                    $(this).addClass('hide').stop(true,true).animate({'left':'10px'}, 200);

                }
            });
            //更换皮肤
            function skins(){
                var skin = window.sessionStorage.getItem("skin");
                if(skin){  //如果更换过皮肤
                    if(window.sessionStorage.getItem("skinValue") != "自定义"){
                        $("body").addClass(window.sessionStorage.getItem("skin"));
                    }else{
                        $(".layui-layout-admin .layui-header").css("background-color",skin.split(',')[0]);
                        $(".layui-bg-black").css("background-color",skin.split(',')[1]);
                        $(".hideMenu").css("background-color",skin.split(',')[2]);
                    }
                }
            }
            skins();
            $("#themes-btn").click(function(){
                layer.open({
                    title : "更换皮肤",
                    area : ["280px","210px"],
                    type : "1",
                    content : '<div class="skins_box" style="padding: 20px 20px 0;">'+
                    '<form class="layui-form">'+
                    '<div class="layui-form-item">'+
                    '<input type="radio" name="skin" value="默认" title="默认" lay-filter="default" checked="">'+
                    '<input type="radio" name="skin" value="绿色" title="绿色" lay-filter="green">'+
                    '<input type="radio" name="skin" value="蓝色" title="蓝色" lay-filter="blue">'+
                    '<input type="radio" name="skin" value="灰色" title="灰色" lay-filter="gray">'+
                    '</div>'+
                    '<div class="layui-form-item skinBtn">'+
                    '<a href="javascript:;" class="layui-btn layui-btn-small layui-btn-normal" lay-submit="" lay-filter="changeSkin">确定更换</a>'+
                    '<a href="javascript:;" class="layui-btn layui-btn-small layui-btn-primary" lay-submit="" lay-filter="noChangeSkin">我再想想</a>'+
                    '</div>'+
                    '</form>'+
                    '</div>',
                    success : function(index, layero){
                        var skin = window.sessionStorage.getItem("skin");
                        if(window.sessionStorage.getItem("skinValue")){
                            $(".skins_box input[value="+window.sessionStorage.getItem("skinValue")+"]").attr("checked","checked");
                        };
                        if($(".skins_box input[value=自定义]").attr("checked")){
                            $(".skinCustom").css("visibility","inherit");
                            $(".topColor").val(skin.split(',')[0]);
                            $(".leftColor").val(skin.split(',')[1]);
                            $(".menuColor").val(skin.split(',')[2]);
                        };
                        form.render();
                        // $(".skins_box").removeClass("layui-hide");
                        $(".skins_box .layui-form-radio").on("click",function(){
                            var skinColor;
                            if($(this).find("div").text() == "绿色"){
                                skinColor = "green";
                            }else if($(this).find("div").text() == "蓝色"){
                                skinColor = "blue";
                            }else if($(this).find("div").text() == "灰色"){
                                skinColor = "gray";
                            }else if($(this).find("div").text() == "默认"){
                                skinColor = "";
                            }
							$("body").removeAttr("class").addClass("main_body "+skinColor+"");
							$(".child-iframe").contents().find('body').removeAttr("class").addClass("page_body "+skinColor+"");

                        })
                        var skinColor;
                        form.on("submit(changeSkin)",function(data){
                            if(data.field.skin != "自定义"){
                                if(data.field.skin == "绿色"){
                                    skinColor = "green";
                                }else if(data.field.skin == "蓝色"){
                                    skinColor = "blue";
                                }else if(data.field.skin == "灰色"){
                                    skinColor = "gray";
                                }else if(data.field.skin == "默认"){
                                    skinColor = "";
                                }
                                window.sessionStorage.setItem("skin",skinColor);
                            }
                            window.sessionStorage.setItem("skinValue",data.field.skin);
                            layer.closeAll("page");


                        });
                        form.on("submit(noChangeSkin)",function(){
                            $("body").removeAttr("class").addClass("main_body "+window.sessionStorage.getItem("skin")+"");
                            $(".child-iframe").contents().find('body').removeAttr("class").addClass("page_body "+window.sessionStorage.getItem("skin")+"");
                            skins();
                            layer.closeAll("page");
                        });
                    },
                    cancel : function(){
                        $("body").removeAttr("class").addClass("main_body "+window.sessionStorage.getItem("skin")+"");
                        skins();
                    }
                })
            })

        });
    </script>
</body>
</html>
