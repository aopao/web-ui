<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>web-ui</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta http-equiv="Access-Control-Allow-Origin" content="*">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="format-detection" content="telephone=no">
	<link rel="icon" href="favicon.png">
	<link rel="stylesheet" href="./assets/plugins/iconfont/iconfont.css">
	<link rel="stylesheet" href="./layui/css/layui.css">
	<link rel="stylesheet" href="./assets/css/login.css">
</head>
<body>

<!--登录页-->
<div class="login-container">
	<!--背景-->
	<ul class="bg-bubbles">
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
	</ul>
	<!--背景-->
	<!--logo-->
	<div class="login-logo">
		<img src="./assets/img/login-logo.png" alt="logo">
	</div>
	<!--logo-->
	<!--样式切换-->
	<div class="style-switch">
		<a href="#" class="green">Green</a>&nbsp;&nbsp;/&nbsp;&nbsp;
		<a href="#" class="red">Red</a>&nbsp;&nbsp;/&nbsp;&nbsp;
		<a href="#" class="blue">Blue</a>
	</div>
	<!--样式切换-->
	<!--登录表单-->
	<form class="login-form layui-form">
		<div class="login-form-pic"></div>
		<div class="login-form-content">
			<div class="login-form-title"></div>
			<!--用户名-->
			<div class="layui-form-item login-form-item">
				<label class="layui-form-label"><i class="iconfont icon-user"></i></label>
				<div class="layui-input-block">
					<input type="text" name="username" lay-verify="username" autocomplete="off" placeholder="请输入用户名" class="layui-input">
				</div>
			</div>
			<!--用户名-->
			<!--密码-->
			<div class="layui-form-item login-form-item">
				<label class="layui-form-label"><i class="iconfont icon-password"></i></label>
				<div class="layui-input-block">
					<input type="password" name="password" lay-verify="password" placeholder="请输入密码" autocomplete="off" class="layui-input">
				</div>
			</div>
			<!--密码-->
			<!--记住密码-->
			<div class="layui-form-item login-checkbox-wrapper">
				<input type="checkbox" name="remember" lay-skin="primary" title="记住密码">
			</div>
			<!--记住密码-->
			<!--登录按钮-->
			<div class="layui-form-item">
				<button class="layui-btn layui-btn-fluid" lay-submit lay-filter="login">登&nbsp;&nbsp;录</button>
			</div>
			<!--登录按钮-->
		</div>
	</form>
	<!--登录表单-->
	<!--copyright-->
	<div class="login-risen"></div>
	<!--copyright-->
</div>
<!--登录页-->

<script type="text/javascript" src="./layui/layui.js"></script>
<script>
	// 表单登录
	layui.use(['form', 'layer', 'jquery'], function () {
		var form = layui.form,
			layer = layui.layer;
			$ = layui.jquery;

        // 验证规则
        form.verify({
            username: function(value, item){ //value：表单的值、item：表单的DOM对象
                if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(value)){
                    return '用户名不能有特殊字符';
                }
                if(/(^\_)|(\__)|(\_+$)/.test(value)){
                    return '用户名首尾不能出现下划线\'_\'';
                }
                if(/^\d+\d+\d$/.test(value)){
                    return '用户名不能全为数字';
                }
            }
            ,password: [
                /^[\S]{6,12}$/
                ,'密码必须6到12位，且不能出现空格'
            ]
        });

        // 监听验证
		var status = function() {
		    var status = 'layui-form-danger';
		    if($(this).hasClass(status)) {
		        $(this).closest('.login-form-item').addClass('login-form-danger');
			}
		}
		$('.layui-form').on('keyup,focus,blur', '.layui-input', status);

		// 表单提交
        form.on('submit(login)', function(data) {
			var arr = [];
			var formObj = data.field;
			// 遍历对象
            for(prop in formObj) {
                if(formObj.hasOwnProperty(prop) && typeof formObj[prop] !== 'function') {
                    arr.push(prop+'='+formObj[prop]);
                }
            }
            layer.msg(arr.join('&'));
            return false;
			// 延时跳转
			// if(true) {
             //    setTimeout(function () {
             //        window.location.href = 'index.html'
             //    }, 2000)
			// }
        });





    });
</script>
</body>
</html>